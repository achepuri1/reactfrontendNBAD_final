[{"C:\\NBAD\\Y1\\src\\index.js":"1","C:\\NBAD\\Y1\\src\\reportWebVitals.js":"2","C:\\NBAD\\Y1\\src\\App.js":"3","C:\\NBAD\\Y1\\src\\components\\Auth\\UserRegistration.js":"4","C:\\NBAD\\Y1\\src\\components\\Auth\\UserLogin.js":"5","C:\\NBAD\\Y1\\src\\components\\Dashboard\\UserDashboard.js":"6","C:\\NBAD\\Y1\\src\\components\\services\\authService.js":"7","C:\\NBAD\\Y1\\src\\config.js":"8","C:\\NBAD\\Y1\\src\\components\\Auth\\AuthenticationContext.js":"9","C:\\NBAD\\Y1\\src\\components\\Dashboard\\CreateBudget.js":"10","C:\\NBAD\\Y1\\src\\components\\Dashboard\\FinancialChart.js":"11","C:\\NBAD\\Y1\\src\\components\\Dashboard\\BudgetOverview.js":"12","C:\\NBAD\\Y1\\src\\components\\services\\apiService.js":"13","C:\\NBAD\\Y1\\src\\components\\Dashboard\\BudgetCapacityManager.js":"14","C:\\NBAD\\Y1\\src\\components\\Footer\\Footer.js":"15","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\index.js":"16","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\App.js":"17","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\reportWebVitals.js":"18","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\UserLogin.js":"19","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\BudgetOverview.js":"20","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\AuthenticationContext.js":"21","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\UserDashboard.js":"22","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\UserRegistration.js":"23","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\BudgetCapacityManager.js":"24","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Footer\\Footer.js":"25","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\services\\authService.js":"26","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\CreateBudget.js":"27","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\FinancialChart.js":"28","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\config.js":"29","C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\services\\apiService.js":"30"},{"size":580,"mtime":1702103057177,"results":"31","hashOfConfig":"32"},{"size":375,"mtime":1702103057178,"results":"33","hashOfConfig":"32"},{"size":3545,"mtime":1702237575961,"results":"34","hashOfConfig":"32"},{"size":2389,"mtime":1702237015854,"results":"35","hashOfConfig":"32"},{"size":2431,"mtime":1702270051433,"results":"36","hashOfConfig":"32"},{"size":6650,"mtime":1702275824594,"results":"37","hashOfConfig":"32"},{"size":2803,"mtime":1702237564912,"results":"38","hashOfConfig":"32"},{"size":149,"mtime":1702103057176,"results":"39","hashOfConfig":"32"},{"size":2231,"mtime":1702236962732,"results":"40","hashOfConfig":"32"},{"size":2162,"mtime":1702303971881,"results":"41","hashOfConfig":"32"},{"size":10541,"mtime":1702237365891,"results":"42","hashOfConfig":"32"},{"size":4249,"mtime":1702237180587,"results":"43","hashOfConfig":"32"},{"size":519,"mtime":1702237518072,"results":"44","hashOfConfig":"32"},{"size":5227,"mtime":1702303960143,"results":"45","hashOfConfig":"32"},{"size":322,"mtime":1702148092138,"results":"46","hashOfConfig":"32"},{"size":580,"mtime":1714884304740,"results":"47","hashOfConfig":"48"},{"size":3545,"mtime":1714884304727,"results":"49","hashOfConfig":"48"},{"size":375,"mtime":1714884304741,"results":"50","hashOfConfig":"48"},{"size":2431,"mtime":1714884304729,"results":"51","hashOfConfig":"48"},{"size":4249,"mtime":1714884304732,"results":"52","hashOfConfig":"48"},{"size":2231,"mtime":1714884304728,"results":"53","hashOfConfig":"48"},{"size":6650,"mtime":1714884304734,"results":"54","hashOfConfig":"48"},{"size":2389,"mtime":1714884304729,"results":"55","hashOfConfig":"48"},{"size":5227,"mtime":1714884304732,"results":"56","hashOfConfig":"48"},{"size":288,"mtime":1714885595788,"results":"57","hashOfConfig":"48"},{"size":2803,"mtime":1714884304738,"results":"58","hashOfConfig":"48"},{"size":2162,"mtime":1714884304733,"results":"59","hashOfConfig":"48"},{"size":10541,"mtime":1714884304733,"results":"60","hashOfConfig":"48"},{"size":149,"mtime":1714884304739,"results":"61","hashOfConfig":"48"},{"size":519,"mtime":1714884304737,"results":"62","hashOfConfig":"48"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"nots4h",{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"66"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"66"},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"66"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gdu323",{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\NBAD\\Y1\\src\\index.js",[],[],["158","159","160","161","162","163"],"C:\\NBAD\\Y1\\src\\reportWebVitals.js",[],[],"C:\\NBAD\\Y1\\src\\App.js",["164","165","166"],[],"import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Link, Navigate } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { UserAuthProvider } from './components/Auth/AuthenticationContext';\r\nimport UserLogin from './components/Auth/UserLogin';\r\nimport UserRegistration from './components/Auth/UserRegistration';\r\nimport UserDashboard from './components/Dashboard/UserDashboard';\r\nimport BudgetOverview from './components/Dashboard/BudgetOverview';\r\nimport FinancialChart from './components/Dashboard/FinancialChart';\r\nimport AddBudgetCapacity from './components/Dashboard/BudgetCapacityManager';\r\nimport CreateBudget from './components/Dashboard/CreateBudget';\r\nimport authService from './components/services/authService';\r\nimport './styles/style.css';\r\nimport Footer from './components/Footer/Footer';\r\n\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"text-container\">\r\n        <h1 className=\"welcome-message\">Welcome to Your Budget Dashboard</h1>\r\n        <h2>Your Financial Journey Starts Here</h2>\r\n        <div className=\"home-button-container\">\r\n          <Link to=\"/login\" className=\"home-button\">\r\n            User Log In\r\n          </Link>\r\n          <Link to=\"/signup\" className=\"home-button\">\r\n            User Sign Up\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"image-container\">\r\n        <img\r\n          src={process.env.PUBLIC_URL + '/background_homepage.png'}\r\n          alt=\"Budget Website Banner\"\r\n          className=\"background-image\"   width=\"1000\" \r\n          height=\"700\" \r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [isUserLoggedIn, setIsUserLoggedIn] = useState(false);\r\n  const [token, setUserToken] = useState(null);\r\n  const [isTokenRefreshModalOpen, setIsTokenRefreshModalOpen] = useState(false);\r\n\r\n  const handleUserLogin = (token) => {\r\n    setUserToken(token);\r\n    setIsUserLoggedIn(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkUserTokenExpiry = async () => {\r\n      if (authService.checkUserTokenExpiry()) {\r\n        setIsTokenRefreshModalOpen(true);\r\n      }\r\n    };\r\n\r\n    checkUserTokenExpiry();\r\n  }, []);\r\n\r\n  const handleRefreshUserToken = async () => {\r\n    try {\r\n      await authService.refreshUserAccessToken();\r\n      setIsTokenRefreshModalOpen(false);\r\n    } catch (error) {\r\n      console.error('Error refreshing user user token:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <UserAuthProvider>\r\n        <Routes>\r\n          <Route path=\"/\" element={<HomePage />} />\r\n          <Route path=\"/login\" element={<UserLogin onUserLogin={handleUserLogin} />} />\r\n          <Route path=\"/signup\" element={<UserRegistration />} />\r\n          <Route\r\n            path=\"/dashboard\"\r\n            element={isUserLoggedIn ? <UserDashboard token={token} /> : <Navigate to=\"/login\" />}\r\n          />\r\n          {isUserLoggedIn && (\r\n            <>\r\n              <Route path=\"/dashboard/budget-list\" element={<BudgetOverview />} />\r\n              <Route path=\"/dashboard/budget-chart\" element={<FinancialChart />} />\r\n              <Route path=\"/dashboard/configure-budget\" element={<AddBudgetCapacity />} />\r\n              <Route path=\"/dashboard/add-budget\" element={<CreateBudget token={token} />} />\r\n            </>\r\n          )}\r\n        </Routes>\r\n      </UserAuthProvider>\r\n      <Footer />\r\n    </Router>\r\n  );\r\n};\r\nexport default App;","C:\\NBAD\\Y1\\src\\components\\Auth\\UserRegistration.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Auth\\UserLogin.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Dashboard\\UserDashboard.js",[],[],"C:\\NBAD\\Y1\\src\\components\\services\\authService.js",[],[],"C:\\NBAD\\Y1\\src\\config.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Auth\\AuthenticationContext.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Dashboard\\CreateBudget.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Dashboard\\FinancialChart.js",["167","168"],[],"//FinancialChart.js\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Chart from 'chart.js/auto';\r\nimport apiService from '../services/apiService';\r\nimport '../../styles/FinancialChart.css';\r\n\r\nconst BudgetChart = ({ token }) => {\r\n  const barChartCanvasRef = useRef(null);\r\n  const pieChartCanvasRef = useRef(null);\r\n  const lineChartCanvasRef = useRef(null);\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [budgetData, setBudgetData] = useState([]);\r\n  const [budgetCapacity, setBudgetCapacity] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchDataAndCreateCharts = async () => {\r\n      try {\r\n        const budgetEndpoint = selectedMonth\r\n          ? `/budgets/getAllBudgets/${selectedMonth}`\r\n          : '/budgets/getAllBudgets';\r\n\r\n        const capacityEndpoint = selectedMonth\r\n          ? `/budgets/capacity/${selectedMonth}`\r\n          : '/budgets/capacity';\r\n\r\n        const [budgetResponse, capacityResponse] = await Promise.all([\r\n          apiService.get(budgetEndpoint, token, {\r\n            params: { month: parseInt(selectedMonth, 10) },\r\n          }),\r\n          apiService.get(capacityEndpoint, token),\r\n        ]);\r\n\r\n        const budgetData = budgetResponse.data || [];\r\n        const capacityData = capacityResponse.data || [];\r\n\r\n        setBudgetData(budgetData);\r\n        setBudgetCapacity(capacityData);\r\n        setLoading(false);\r\n\r\n        createBarChart();\r\n        pieChartCanvasRef();\r\n        createLineChart();\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching budget data: ', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDataAndCreateCharts();\r\n  }, [token, selectedMonth]);\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      createBarChart();\r\n      createPieChart();\r\n      createLineChart();\r\n      \r\n    }\r\n  }, [loading, budgetData, budgetCapacity]);\r\n\r\n  const createLineChart = async () => {\r\n    const lineCanvas = lineChartCanvasRef.current;\r\n  \r\n    if (!lineCanvas) {\r\n      console.error('Line Canvas element not found');\r\n      return;\r\n    }\r\n  \r\n    const lineCtx = lineCanvas.getContext('2d');\r\n    if (!lineCtx) {\r\n      console.error('Unable to get 2D context for line canvas');\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      if (lineCanvas.chart) {\r\n        lineCanvas.chart.destroy();\r\n      } \r\n      const cumulativeData = [];\r\n\r\n      for (let month = 1; month <= 12; month++) {\r\n        const budgetsResponse = await apiService.get(`/budgets/getAllBudgets/${month}`, token);\r\n        const capacityResponse = await apiService.get(`/budgets/capacity/${month}`, token);\r\n        const budgetData = budgetsResponse.data || [];\r\n        const capacityData = capacityResponse.data || [];\r\n  \r\n        let totalBudget = 0;\r\n        let totalCapacity = 0;\r\n  \r\n        for (const item of budgetData) {\r\n          totalBudget += Number(item.budgetnumber) || 0;\r\n        }\r\n  \r\n        for (const item of capacityData) {\r\n          totalCapacity += Number(item.budgetnumber) || 0;\r\n        }\r\n  \r\n        cumulativeData.push({\r\n          month: month,\r\n          totalBudget: totalBudget,\r\n          totalCapacity: totalCapacity,\r\n        });\r\n      }\r\n\r\n      const chartData = {\r\n        labels: cumulativeData.map(item => item.month),\r\n        datasets: [\r\n          {\r\n            label: 'Cumulative Actual Budget',\r\n            borderColor: '#ff6384',\r\n            data: cumulativeData.map(item => item.totalBudget),\r\n            fill: false,\r\n          },\r\n          {\r\n            label: 'Cumulative Budget',\r\n            borderColor: '#36a2eb',\r\n            data: cumulativeData.map(item => item.totalCapacity),\r\n            fill: false,\r\n          },\r\n        ],\r\n      };\r\n  \r\n      lineCanvas.chart = new Chart(lineCtx, {\r\n        type: 'line',\r\n        data: chartData,\r\n        options: {\r\n          scales: {\r\n            x: {\r\n              type: 'category',\r\n              labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n            },\r\n            y: {\r\n              type: 'linear',\r\n              position: 'left',\r\n            },\r\n          },\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating line chart: ', error);\r\n    }\r\n  };\r\n\r\n  const createBarChart = () => {\r\n    const canvas = barChartCanvasRef.current;\r\n    if (!canvas) {\r\n      console.error('Bar Chart Canvas element not found');\r\n      return;\r\n    }\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) {\r\n      console.error('Unable to get 2D context for Bar Chart canvas');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (canvas.chart) {\r\n        canvas.chart.destroy();\r\n      }\r\n\r\n      const combinedData = budgetData.map(dataItem => {\r\n        const matchingCapacity = budgetCapacity.find(capacityItem => capacityItem.budgetname === dataItem.budgetname);\r\n        return {\r\n          budgetName: dataItem.budgetname,\r\n          actualExpenditure: dataItem.budgetnumber,\r\n          budgetCapacity: matchingCapacity ? matchingCapacity.budgetnumber : null,\r\n        };\r\n      });\r\n\r\n      const chartData = {\r\n        labels: combinedData.map(item => item.budgetName),\r\n        datasets: [\r\n          {\r\n            label: 'Actual Expenditure',\r\n            backgroundColor: '#9966ff', \r\n            data: combinedData.map(item => item.actualExpenditure),\r\n          },\r\n          {\r\n            label: 'Budget',\r\n            backgroundColor: '#ffcc99', \r\n            data: combinedData.map(item => item.budgetCapacity),\r\n          },\r\n        ],\r\n      };\r\n\r\n      canvas.chart = new Chart(ctx, {\r\n        type: 'bar',\r\n        data: chartData,\r\n        options: {\r\n          scales: {\r\n            x: { stacked: true }, \r\n            y: { stacked: true }, \r\n          },\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating bar chart: ', error);\r\n    }\r\n  };\r\n\r\n  const createPieChart = () => {\r\n    const pieCanvas = pieChartCanvasRef.current;\r\n\r\n    if (!pieCanvas) {\r\n      console.error('Pie Canvas element not found');\r\n      return;\r\n    }\r\n\r\n    const pieCtx = pieCanvas.getContext('2d');\r\n    if (!pieCtx) {\r\n      console.error('Unable to get 2D context for pie canvas');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (pieCanvas.chart) {\r\n        pieCanvas.chart.destroy();\r\n      }\r\n\r\n      const combinedData = budgetData.map(dataItem => {\r\n        const matchingCapacity = budgetCapacity.find(capacityItem => capacityItem.budgetname === dataItem.budgetname);\r\n        return {\r\n          budgetname: dataItem.budgetname,\r\n          actualExpenditure: dataItem.budgetnumber,\r\n          budgetCapacity: matchingCapacity ? matchingCapacity.budgetnumber : null,\r\n        };\r\n      });\r\n\r\n      const pieData = combinedData.map((item, index) => {\r\n        const actualExpenditure = item.actualExpenditure || 0;\r\n        const budgetCapacity = item.budgetCapacity || 0;\r\n        const remainingBudget = budgetCapacity - actualExpenditure;\r\n\r\n        const backgroundColors = [\r\n          '#ff6384', '#36a2eb', '#ff9f40', '#4bc0c0', '#9966ff', '#ffcc66', '#6666ff', '#99ff66', '#ff6666', '#66ccff',\r\n          '#ffcc99', '#cc66ff', '#33cc33', '#6666cc', '#cc6666', '#99ccff', '#ff6666', '#66ccff', '#ffcc99', '#cc66ff'\r\n        ];\r\n\r\n        return {\r\n          label: item.budgetname,\r\n          data: [actualExpenditure, remainingBudget],\r\n          backgroundColor: backgroundColors[index % backgroundColors.length],\r\n        };\r\n      });\r\n\r\n      console.log('pieChartData:', pieData);\r\n\r\n      pieCanvas.chart = new Chart(pieCtx, {\r\n        type: 'pie',\r\n        data: {\r\n          labels: pieData.map(item => item.label),\r\n          datasets: [{\r\n            data: pieData.map(item => item.data[0]),\r\n            backgroundColor: pieData.map(item => item.backgroundColor),\r\n          }],\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating pie chart: ', error);\r\n    }\r\n  };\r\n\r\n  const handleMonthChange = (event) => {\r\n    setSelectedMonth(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"budget-chart\">\r\n      <h3>Various Types of Budget Charts</h3>\r\n      <div className=\"label-container\">\r\n        <select value={selectedMonth} onChange={handleMonthChange}>\r\n          <option value=\"\">All Months</option>\r\n          <option value=\"1\">January</option>\r\n          <option value=\"2\">February</option>\r\n          <option value=\"3\">March</option>\r\n          <option value=\"4\">April</option>\r\n          <option value=\"5\">May</option>\r\n          <option value=\"6\">June</option>\r\n          <option value=\"7\">July</option>\r\n          <option value=\"8\">August</option>\r\n          <option value=\"9\">September</option>\r\n          <option value=\"10\">October</option>\r\n          <option value=\"11\">November</option>\r\n          <option value=\"12\">December</option>\r\n        </select>\r\n      </div>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <div className=\"scrollable-container\">\r\n          <div className=\"charts-container\">\r\n            <div className=\"chart\">\r\n              <h3>Budget for the current period vs Cumulative budget</h3>\r\n              {budgetData.length > 0 && budgetCapacity.length > 0 && (\r\n                <canvas className=\"budget-canvas\" ref={barChartCanvasRef} width={800} height={800}></canvas>\r\n              )}\r\n              {budgetData.length === 0 && budgetCapacity.length > 0 && <p>No budget data available.</p>}\r\n            </div>\r\n            <div className=\"chart\">\r\n              <h3>Current budget allocation chart</h3>\r\n              {budgetData.length > 0 && budgetCapacity.length > 0 && (\r\n                <canvas className=\"budget-pie-canvas\" ref={pieChartCanvasRef} width={800} height={800}></canvas>\r\n              )}\r\n              {budgetData.length === 0 && budgetCapacity.length > 0 && <p>No budget data available.</p>}\r\n            </div>\r\n          </div>\r\n\r\n            <div className=\"chart\">\r\n              <h3>Budget for the current period. vs Cumulative budget allocation</h3>\r\n              {budgetData.length > 0 && budgetCapacity.length > 0 && (\r\n                <canvas className=\"budget-line-canvas\" ref={lineChartCanvasRef} width={400} height={400}></canvas>\r\n              )}\r\n              {budgetData.length === 0 && budgetCapacity.length > 0 && <p>No budget data available.</p>}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetChart;\r\n","C:\\NBAD\\Y1\\src\\components\\Dashboard\\BudgetOverview.js",["169"],[],"//BudgetOverview.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport apiService from '../services/apiService';\r\nimport '../../styles/BudgetOverview.css';\r\n\r\nconst BudgetOverview = ({ token }) => {\r\n  const [budgetData, setBudgetData] = useState([]);\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [capacityData, setCapacityData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchBudgetData = async () => {\r\n      try {\r\n        const headers = {\r\n          Authorization: 'Bearer ' + token,\r\n        };\r\n\r\n        const budgetEndpoint = selectedMonth\r\n          ? `/budgets/getAllBudgets/${selectedMonth}`\r\n          : '/budgets/getAllBudgets';\r\n\r\n        const capacityEndpoint = selectedMonth\r\n          ? `/budgets/capacity/${selectedMonth}`\r\n          : '/budgets/capacity';\r\n\r\n        const capacityParams = selectedMonth\r\n          ? { params: { month: parseInt(selectedMonth, 10) } }\r\n          : {};\r\n\r\n        const [budgetResponse, capacityResponse] = await Promise.all([\r\n          apiService.get(budgetEndpoint, token, { params: { month: parseInt(selectedMonth, 10) } }),\r\n          apiService.get(capacityEndpoint, token, capacityParams),\r\n        ]);\r\n\r\n        setBudgetData(budgetResponse.data);\r\n        setCapacityData(capacityResponse.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching budget data', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBudgetData();\r\n  }, [token, selectedMonth]);\r\n\r\n  const handleMonthChange = (event) => {\r\n    setSelectedMonth(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"budget-list-container-wrapper\" style={{ marginTop: '120px', width: '80%' }}>\r\n    <div className=\"budget-list-container\">\r\n      <h2 className=\"list-header\">Comprehensive Budget Overview</h2>\r\n\r\n      <label>\r\n        Select Month:\r\n        <select className=\"select-dropdown\" value={selectedMonth} onChange={handleMonthChange}>\r\n          <option value=\"\">All Months</option>\r\n          <option value=\"1\">January</option>\r\n          <option value=\"2\">February</option>\r\n          <option value=\"3\">March</option>\r\n          <option value=\"4\">April</option>\r\n          <option value=\"5\">May</option>\r\n          <option value=\"6\">June</option>\r\n          <option value=\"7\">July</option>\r\n          <option value=\"8\">August</option>\r\n          <option value=\"9\">September</option>\r\n          <option value=\"10\">October</option>\r\n          <option value=\"11\">November</option>\r\n          <option value=\"12\">December</option>\r\n        </select>\r\n      </label>\r\n\r\n      {!loading ? (\r\n        budgetData && budgetData.length > 0 ? (\r\n          <div className=\"budget-table\">\r\n            <div className=\"table-row header\">\r\n              <div className=\"table-cell\">Budget Name</div>\r\n              <div className=\"table-cell\">Budget Amount</div>\r\n              <div className=\"table-cell\">Total Capacity</div>\r\n              <div className=\"table-cell\">Remaining Balance</div>\r\n            </div>\r\n            {budgetData.map((budget) => {\r\n              const capacityForBudget = capacityData.find(\r\n                (capacityItem) => capacityItem.budgetname === budget.budgetname\r\n              );\r\n\r\n              const budgetAmount = budget.budgetnumber || 0;\r\n              const capacityAmount = capacityForBudget ? capacityForBudget.budgetnumber || 0 : 0;\r\n\r\n              const remainingBalance = Math.max(0, capacityAmount - budgetAmount);\r\n\r\n              return (\r\n                <div className=\"table-row\" key={budget.id}>\r\n                  <div className=\"table-cell\">{budget.budgetname}</div>\r\n                  <div className=\"table-cell\">{budgetAmount}</div>\r\n                  <div className=\"table-cell\">{capacityAmount}</div>\r\n                  <div className={`table-cell remaining-balance`}>{remainingBalance}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <p className=\"no-data-message\">No budget data available.</p>\r\n        )\r\n      ) : (\r\n        <p className=\"loading-message\">Loading...</p>\r\n      )}\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetOverview;\r\n","C:\\NBAD\\Y1\\src\\components\\services\\apiService.js",[],[],"C:\\NBAD\\Y1\\src\\components\\Dashboard\\BudgetCapacityManager.js",["170","171"],[],"import config from '../../config';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport apiService from '../services/apiService';\r\nimport '../../styles/BudgetCapacityManager.css';\r\n\r\nconst BASE_URL = config.apiUrl;\r\n\r\nconst BudgetCapacityManager = ({ onAddBudgetCapacity, username, token }) => {\r\n  const [budgetName, setBudgetName] = useState('');\r\n  const [budgetNumber, setBudgetNumber] = useState('');\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [addBudgetMessage, setAddBudgetMessage] = useState('');\r\n  const [capacityData, setCapacityData] = useState([]);\r\n\r\n  const handleAddBudgetCapacity = async () => {\r\n    try {\r\n      if (typeof onAddBudgetCapacity !== 'function') {\r\n        console.error('onAddBudgetCapacity is not a function');\r\n        return;\r\n      }\r\n\r\n      const data = { budgetName, budgetNumber, selectedMonth: parseInt(selectedMonth, 10) };\r\n      const response = await onAddBudgetCapacity(data);\r\n\r\n      if (response && response.success) {\r\n        setAddBudgetMessage(response.message);\r\n        NotificationManager.success(response.message, 'Success');\r\n        setBudgetName('');\r\n        setBudgetNumber('');\r\n        setSelectedMonth('');\r\n      } else {\r\n        console.error('Failed to add budget capacity:', response ? response.message : 'Unknown error');\r\n        setAddBudgetMessage(response ? response.message : 'Failed to add budget capacity');\r\n        NotificationManager.error(response ? response.message : 'Failed to add budget capacity', 'Error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding budget capacity:', error.message);\r\n      setAddBudgetMessage('Error adding budget capacity');\r\n      NotificationManager.error('Error adding budget capacity', 'Error');\r\n    }\r\n  };\r\n\r\n  const openModal = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const capacityEndpoint = selectedMonth\r\n    ? `/budgets/capacity/${selectedMonth}`\r\n    : '/budgets/capacity';\r\n\r\n  useEffect(() => {\r\n    const fetchCapacityData = async () => {\r\n      try {\r\n        const response = await apiService.get(capacityEndpoint, token);\r\n        setCapacityData(response.data || []);\r\n      } catch (error) {\r\n        console.error('Error fetching capacity data:', error);\r\n      }\r\n    };\r\n\r\n    fetchCapacityData();\r\n  }, [capacityEndpoint, token]);\r\n\r\n  return (\r\n    <div className=\"add-budget-container\">\r\n      <h3 className=\"header\">Add the Budget </h3>\r\n      <label>\r\n        Select Month:\r\n        <select\r\n          className=\"select-dropdown\"\r\n          value={selectedMonth}\r\n          onChange={(e) => setSelectedMonth(e.target.value)}\r\n        >\r\n          <option value=\"\">Select Month</option>\r\n          <option value=\"1\">January</option>\r\n          <option value=\"2\">February</option>\r\n          <option value=\"3\">March</option>\r\n          <option value=\"4\">April</option>\r\n          <option value=\"5\">May</option>\r\n          <option value=\"6\">June</option>\r\n          <option value=\"7\">July</option>\r\n          <option value=\"8\">August</option>\r\n          <option value=\"9\">September</option>\r\n          <option value=\"10\">October</option>\r\n          <option value=\"11\">November</option>\r\n          <option value=\"12\">December</option>\r\n        </select>\r\n      </label>\r\n      <label>\r\n        Add Category:\r\n        <input\r\n          className=\"input-field\"\r\n          type=\"text\"\r\n          value={budgetName}\r\n          onChange={(e) => setBudgetName(e.target.value)}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Category Value:\r\n        <input\r\n          className=\"input-field\"\r\n          type=\"text\"\r\n          value={budgetNumber}\r\n          onChange={(e) => setBudgetNumber(e.target.value)}\r\n        />\r\n      </label>\r\n      <br />\r\n      <button className=\"add-budget-button\" onClick={handleAddBudgetCapacity}>\r\n        Add Budget Category\r\n      </button>\r\n\r\n      <h3 className=\"header\">Capacity Data</h3>\r\n      {capacityData.length > 0 ? (\r\n        <table className=\"capacity-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Category</th>\r\n              <th>Category Number</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {capacityData.map((item) => (\r\n              <tr key={item.budgetname}>\r\n                <td>{item.budgetname}</td>\r\n                <td>{item.budgetnumber}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <p>No capacity added.</p>\r\n      )}\r\n\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onRequestClose={closeModal}\r\n        contentLabel=\"Add Budget Message\"\r\n        className=\"modal\"\r\n        overlayClassName=\"overlay\"\r\n      >\r\n        <h2>{addBudgetMessage}</h2>\r\n        <button onClick={closeModal}>Close</button>\r\n      </Modal>\r\n\r\n      {/* Notification container */}\r\n      <NotificationContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetCapacityManager;\r\n","C:\\NBAD\\Y1\\src\\components\\Footer\\Footer.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\index.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\App.js",["172","173","174"],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\reportWebVitals.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\UserLogin.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\BudgetOverview.js",["175"],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\AuthenticationContext.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\UserDashboard.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Auth\\UserRegistration.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\BudgetCapacityManager.js",["176","177"],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Footer\\Footer.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\services\\authService.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\CreateBudget.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\Dashboard\\FinancialChart.js",["178","179"],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\config.js",[],[],"C:\\NBAD\\Anjali\\React\\NBADReactFinalProject\\src\\components\\services\\apiService.js",[],[],{"ruleId":"180","replacedBy":"181"},{"ruleId":"182","replacedBy":"183"},{"ruleId":"184","replacedBy":"185"},{"ruleId":"186","replacedBy":"187"},{"ruleId":"188","replacedBy":"189"},{"ruleId":"190","replacedBy":"191"},{"ruleId":"192","severity":1,"message":"193","line":3,"column":10,"nodeType":"194","messageId":"195","endLine":3,"endColumn":24},{"ruleId":"192","severity":1,"message":"196","line":50,"column":10,"nodeType":"194","messageId":"195","endLine":50,"endColumn":33},{"ruleId":"192","severity":1,"message":"197","line":67,"column":9,"nodeType":"194","messageId":"195","endLine":67,"endColumn":31},{"ruleId":"198","severity":1,"message":"199","line":53,"column":6,"nodeType":"200","endLine":53,"endColumn":28,"suggestions":"201"},{"ruleId":"198","severity":1,"message":"202","line":62,"column":6,"nodeType":"200","endLine":62,"endColumn":43,"suggestions":"203"},{"ruleId":"192","severity":1,"message":"204","line":15,"column":15,"nodeType":"194","messageId":"195","endLine":15,"endColumn":22},{"ruleId":"192","severity":1,"message":"205","line":9,"column":7,"nodeType":"194","messageId":"195","endLine":9,"endColumn":15},{"ruleId":"192","severity":1,"message":"206","line":47,"column":9,"nodeType":"194","messageId":"195","endLine":47,"endColumn":18},{"ruleId":"192","severity":1,"message":"193","line":3,"column":10,"nodeType":"194","messageId":"195","endLine":3,"endColumn":24},{"ruleId":"192","severity":1,"message":"196","line":50,"column":10,"nodeType":"194","messageId":"195","endLine":50,"endColumn":33},{"ruleId":"192","severity":1,"message":"197","line":67,"column":9,"nodeType":"194","messageId":"195","endLine":67,"endColumn":31},{"ruleId":"192","severity":1,"message":"204","line":15,"column":15,"nodeType":"194","messageId":"195","endLine":15,"endColumn":22},{"ruleId":"192","severity":1,"message":"205","line":9,"column":7,"nodeType":"194","messageId":"195","endLine":9,"endColumn":15},{"ruleId":"192","severity":1,"message":"206","line":47,"column":9,"nodeType":"194","messageId":"195","endLine":47,"endColumn":18},{"ruleId":"198","severity":1,"message":"199","line":53,"column":6,"nodeType":"200","endLine":53,"endColumn":28,"suggestions":"207"},{"ruleId":"198","severity":1,"message":"202","line":62,"column":6,"nodeType":"200","endLine":62,"endColumn":43,"suggestions":"208"},"dot-location",[],"new-parens",[],"no-mixed-operators",[],"no-new-object",["209"],"no-whitespace-before-property",[],"rest-spread-spacing",[],"no-unused-vars","'ToastContainer' is defined but never used.","Identifier","unusedVar","'isTokenRefreshModalOpen' is assigned a value but never used.","'handleRefreshUserToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'createBarChart' and 'createLineChart'. Either include them or remove the dependency array.","ArrayExpression",["210"],"React Hook useEffect has missing dependencies: 'createBarChart', 'createLineChart', and 'createPieChart'. Either include them or remove the dependency array.",["211"],"'headers' is assigned a value but never used.","'BASE_URL' is assigned a value but never used.","'openModal' is assigned a value but never used.",["212"],["213"],"no-object-constructor",{"desc":"214","fix":"215"},{"desc":"216","fix":"217"},{"desc":"214","fix":"218"},{"desc":"216","fix":"219"},"Update the dependencies array to be: [token, selectedMonth, createBarChart, createLineChart]",{"range":"220","text":"221"},"Update the dependencies array to be: [loading, budgetData, budgetCapacity, createBarChart, createPieChart, createLineChart]",{"range":"222","text":"223"},{"range":"224","text":"221"},{"range":"225","text":"223"},[1727,1749],"[token, selectedMonth, createBarChart, createLineChart]",[1893,1930],"[loading, budgetData, budgetCapacity, createBarChart, createPieChart, createLineChart]",[1727,1749],[1893,1930]]